.logo {
	width: 140px;
	height: 40px;
	position: absolute;
	top: 27px;
	left: 0;

	.link {
		background: image-url('shared.png') 0 0 no-repeat;
		display: block;
		width: 100%;
		height: 100%;
	}
}

.insurance-wrap {
	display: none;
	position: absolute;
	top: 20px;
	right: 0;
	font-size: 14px;
	text-indent: 18px;

	.wording {
		color: #e95854;
		font-weight: bold;
		line-height: 27px;
	}

	.cost {
		background: image-url('shared.png') -140px 0 no-repeat;
		display: block;
		width: 166px;
		height: 32px;
		position: relative;
		color: #fff;
		line-height: 32px;

		.dollar {
			position: relative;
			z-index: 1;
			font-size: 16px;
			letter-spacing: 1px;
		}
	}

	.svg-icon {
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0;
		left: 0;
	}
}

.index {
	height: 100%;
	position: relative;

	&:before {
		content: '';
		background: image-url('bg-index.png') -238px 0 no-repeat;
		display: block;
		width: 372px;
		height: 222px;
		position: absolute;
		top: 345px;
		left: 108px;
	}

	&:after {
		content: '';
		background: image-url('index-ani.png') -238px 0 no-repeat;
		display: block;
		width: 200px;
		height: 167px;
		position: absolute;
		top: 300px;
		left: 281px;
		@include animation(family-ani 7s steps(118, end) infinite);
	}

	.page-title {
		background: image-url('bg-index.png') -238px -222px no-repeat;
		display: block;
		width: 454px;
		height: 108px;
		position: absolute;
		top: 200px;
		left: 427px;
	}

	.slogan {
		background: image-url('bg-index.png') -112px -330px no-repeat;
		display: block;
		width: 224px;
		height: 28px;
		position: absolute;
		top: 380px;
		left: 520px;
	}

	.btn-check {
		margin-left: -18px;
		position: absolute;
		top: 492px;
		left: 50%;
		overflow: visible;

		em {
			background: image-url('bg-index.png') -112px -390px no-repeat;
			display: inline-block;
			width: 80px;
			height: 15px;
		}
	}

	.btn-start {
		display: block;
		width: 124px;
		height: 114px;
		position: absolute;
		top: 428px;
		right: 144px;

		&:before, &:after {
			content: '';
			background: image-url('bg-index.png') 0 0 no-repeat;
			display: block;
			position: absolute;
		}

		&:before {
			background-position: -336px -330px;
			width: 100%;
			height: 86px;
			bottom: 0;
			right: 0;
		}

		&:after {
			background-position: -610px 0;
			width: 37px;
			height: 37px;
			top: 0;
			right: 48px;
			@include animation(nod-head 8s steps(1, end) infinite);
		}

		&:hover {
			width: 126px;

			&:before {
				background-position: -460px -330px;
			}

			&:after {
				@include animation-play-state(paused);
				@include transform(scale(-1, 1));
			}

			~ .icon-flying-bird {
				@include animation-play-state(paused);
			}
		}
	}

	.icon-flying-bird {
		display: block;
		width: 45px;
		height: 32px;
		position: absolute;
		top: 335px;
		left: 409px;
		@include animation(flying-move 8s linear infinite);

		&.reverse {
			@include animation(flying-move-reverse 8s linear infinite);

			&:before {
				background: image-url('bg-index.png') -202px -358px no-repeat;
				@include animation(wing-ani-reverse 0.4s steps(1, end) infinite);
			}
		}

		&:before {
			content: '';
			background: image-url('bg-index.png') -112px -358px no-repeat;
			display: block;
			width: 100%;
			height: 100%;
			@include animation(wing-ani 0.4s steps(1, end) infinite);
		}
	}
}

.stage {
	display: none;
}

.quest-title {
	margin-left: -17px;
	background: url(../img/bg-exams.png) 0 0 no-repeat;
	display: block;
	width: 35px;
	height: 180px;
	position: absolute;
	top: 135px;
	left: 50%;
}

.btn-check {
	&:before {
		content: '';
		margin-right: 7px;
		background: image-url('shared.png') -306px 0 no-repeat;
		display: inline-block;
		width: 21px;
		height: 21px;
	}

	&.is-checked:after {
		content: '';
		background: image-url('checked.png') 0 0 no-repeat;
		display: block;
		width: 34px;
		height: 20px;
		position: absolute;
		bottom: 7px;
		left: -5px;
		z-index: 1;
		@include animation(btn-checked 0.2s steps(3, end) forwards);
	}
}

.choice-list {
	height: 100%;
	font-size: 0;

	.list {
		display: inline-block;
		width: 50%;
		height: 100%;
		text-align: center;
		@include box-sizing(border-box);

		&:first-child .btn-check {
			margin-right: 142px;
			right: 50%;
		}

		&:last-child .btn-check {
			margin-left: 142px;
			left: 50%;
		}

		.btn-check {
			position: absolute;
			bottom: 190px;
			overflow: visible;
			@include transition(ease-in all 0.3s);

			em {
				background: url(../img/bg-exams.png) 0 0 no-repeat;
				display: inline-block;
				height: 21px;
			}

			.svg-icon {
				display: inline-block;
				width: 21px;
				height: 21px;
			}
		}
	}
}

.girl, .boy {
	display: block;
	position: absolute;
}

.girl {
	background: image-url('girl.png') -151px 0 no-repeat;
}

.boy {
	background: image-url('boy.png') -148px 0 no-repeat;
}

.quest-1 {
	.cut-1 {
		display: block;
	}

	.quest-title {
		@include transition(ease-in opacity 0.3s);
	}

	.choice-list {
		.list {
			em {
				width: 20px;
			}

			&:first-child .btn-check {
				em {
					background-position: 0 -180px;
				}

				&.is-checked ~ .image-wrap {
					@include animation(bow-girl 0.3s steps(11, start) forwards);
				}

				&.ani-reverse ~ .image-wrap {
					@include animation(reverse-girl 0.3s steps(11, start) forwards);
				}
			}

			&:last-child .btn-check {
				&:before {
					background-position: -327px 0;
				}

				em {
					background-position: 0 -201px;
				}

				&.is-checked ~ .image-wrap {
					@include animation(bow-boy 0.3s steps(6, start) forwards);
				}

				&.ani-reverse ~ .image-wrap {
					@include animation(reverse-boy 0.3s steps(6, start) forwards);
				}
			}
		}

		&[class^="chosen-"], &[class*=" chosen-"] {
			~.quest-title, .btn-check {
				opacity: 0;
			}
		}

		&.chosen-girl {
			.girl {
				@include animation(transition-girl 0.3s steps(11, start) forwards !important);
			}

			.boy {
				background: url(../img/boy-door.png) 0 0 no-repeat;
				width: 335px;
				height: 309px;
				top: 179px;
				right: 143px;
				@include animation(flipout-door 1.5s steps(29, start) forwards);
			}
		}

		&.chosen-boy .girl {
			background: url(../img/girl-door.png) 0 0 no-repeat;
			width: 335px;
			height: 309px;
			top: 179px;
			left: 184px;
			@include animation(flipout-door 1.5s steps(29, start) forwards);
		}
	}

	.girl {
		width: 151px;
		height: 242px;
		top: 230px;
		left: 250px;
		@include animation(wink-girl 5s steps(1, start) infinite);
	}

	.boy {
		width: 148px;
		height: 242px;
		top: 226px;
		right: 260px;
		@include animation(wink-boy 5s 0.5s steps(1, start) infinite);
	}

	.btn-prev {
		top: -120px;
	}
}

.quest-2 {
	.cut-2 {
		display: block;
	}

	.quest-title {
		background-position: -35px 0;
		width: 35px;
		height: 0;
		@include animation(q2-title 1.5s linear forwards);
	}

	.choice-list {
		width: 100%;
		position: absolute;

		&:before {
			content: '';
			display: block;
			position: absolute;
			top: 50%;
			left: 50%;
		}

		.list {
			em {
				width: 39px;
				height: 21px;
			}

			&:first-child .btn-check em {
				background-position: -35px -186px;
			}

			&:last-child .btn-check {
				&:before {
					background-position: -327px 0;
				}

				em {
					background-position: -35px -207px;
				}
			}
		}

		&.chosen-girl {
			&:before {
				margin: -171px 0 0 -237px;
				background: url(../img/ani-q2-girl.png) 0 -7272px no-repeat;
				width: 595px;
				height: 303px;
			}

			&[data-first="true"]:before {
				background-position: 0 0;
				@include animation(q2-girl 1.4s steps(24, end) forwards);
			}

			&[data-select="single"] {
				@include animation-duration(1.4s);
				@include animation-delay(0.5s);

				&:before {
					margin: -242px 0 0 -247px;
					background-position: -595px 0;
					width: 566px;
					height: 374px;
					@include animation(q2-girl-single 1.4s 0.5s steps(17, end) forwards);
				}
			}

			&[data-reverse="single"] {
				@include animation-duration(1.4s);
				@include animation-delay(0.5s);

				&:before {
					margin: -242px 0 0 -247px;
					background-position: -595px -6358px;
					width: 566px;
					height: 374px;
					@include animation(q2-girl-single-reverse 1.4s 0.5s steps(17, end) forwards);
				}
			}

			&[data-select="merried"] {
				@include animation-duration(3.5s);
				@include animation-delay(0);

				&:before {
					margin: -168px 0 0 -255px;
					background-position: -1161px 0;
					width: 508px;
					height: 298px;
					@include animation(q2-girl-merried 3.5s steps(61, end) forwards);
				}
			}

			&[data-reverse="merried"] {
				@include animation-duration(3.5s);
				@include animation-delay(0);

				&:before {
					margin: -168px 0 0 -255px;
					background-position: -1161px -18178px;
					width: 508px;
					height: 298px;
					@include animation(q2-girl-merried-reverse 3.5s steps(61, end) forwards);
				}
			}
		}

		&.chosen-boy {
			&:before {
				margin: -171px 0 0 -316px;
				background: url(../img/ani-q2-boy.png) 0 -6363px no-repeat;
				width: 512px;
				height: 303px;
			}

			&[data-first="true"]:before {
				background-position: 0 0;
				@include animation(q2-boy 1.4s 0.5s steps(21, end) forwards);
			}

			&[data-select="single"] {
				@include animation-duration(1.7s);
				@include animation-delay(0.5s);

				&:before {
					margin: -171px 0 0 -317px;
					background-position: -512px 0;
					width: 614px;
					height: 303px;
					@include animation(q2-boy-single 1.7s 0.5s steps(29, end) forwards);
				}
			}

			&[data-reverse="single"] {
				@include animation-duration(1.7s);
				@include animation-delay(0.5s);

				&:before {
					margin: -171px 0 0 -317px;
					background-position: -512px -8787px;
					width: 614px;
					height: 303px;
					@include animation(q2-boy-single-reverse 1.7s 0.5s steps(29, end) forwards);
				}
			}

			&[data-select="merried"] {
				@include animation-duration(2.7s);
				@include animation-delay(0);

				&:before {
					margin: -170px 0 0 -271px;
					background-position: -1126px 0;
					width: 509px;
					height: 298px;
					@include animation(q2-boy-merried 2.7s steps(49, end) forwards);
				}
			}

			&[data-reverse="merried"] {
				@include animation-duration(2.7s);
				@include animation-delay(0);

				&:before {
					margin: -170px 0 0 -271px;
					background-position: -1126px -14602px;
					width: 509px;
					height: 298px;
					@include animation(q2-boy-merried-reverse 2.7s steps(49, end) forwards);
				}
			}
		}

		&[class^="chosen-"], &[class*=" chosen-"] {
			.btn-check > * {
				@include animation(q2-btn-check 0.3s linear forwards);
			}
		}
	}
}

.quest-3 {
	.cut-3 {
		display: block;
	}

	.quest-title {
		background-position: -74px 0;
		width: 37px;
		height: 0;
		top: 48px;
		@include animation(q3-title 1.2s 0.1s linear forwards);
	}

	.image-wrap {
		position: absolute;
		left: 50%;
	}

	.range-slider {
		margin-left: -194px;
		display: block;
		width: 388px;
		height: 55px;
		position: absolute;
		bottom: 180px;
		left: 50%;

		.slider-picker {
			display: none;
		}

		.irs {
			height: 55px;
		}

		.irs-line {
			background: url(../img/bg-slider.png) center 0 no-repeat;
			height: 13px;
			top: 33px;
			border: 0;
			border-radius: 0;
			cursor: pointer;
		}

		.irs-bar, .irs-bar-edge {
			display: none;
		}

		.irs-min, .irs-max {
			padding: 0;
			background: none;
			width: 30px;
			top: auto;
			bottom: -1em;
			visibility: visible !important;
			color: #8a6f5b;
			font-size: 14px;
			font-weight: bold;
			line-height: 1.6em;
			text-align: center;
		}

		.irs-single {
			padding: 0;
			background: url(../img/bg-slider.png) 0 -13px no-repeat;
			width: 32px;
			height: 39px;
			border-radius: 0;
			cursor: pointer;
			color: #fff;
			font-size: 14px;
			line-height: 32px;
			text-align: center;
		}

		.irs-slider {
			background: none;
			width: 27px;
			height: 27px;
			top: 25px;
			border: 0;
			box-shadow: none;
			cursor: pointer;
		}
	}

	.chosen-girl .image-wrap {
		margin-left: -75px;
		background: url(../img/ani-q3-girl.png) 0 0 no-repeat;
		width: 151px;
		height: 524px;
		bottom: 230px;

		&[data-age="y-t-o"] {
			@include animation(q3-girl-y-t-o 2.6s steps(49, end) forwards);
		}

		&[data-age="m-t-o"] {
			@include animation(q3-girl-m-t-o 1.3s steps(25, end) forwards);
		}

		&[data-age="c-t-o"] {
			@include animation(q3-girl-c-t-o 1.3s steps(25, end) forwards);
		}

		&[data-age="y-t-m"] {
			@include animation(q3-girl-y-t-m 1.3s steps(24, end) forwards);
		}

		&[data-age="o-t-m"] {
			@include animation(q3-girl-o-t-m 1.3s steps(25, end) forwards);
		}

		&[data-age="c-t-m"] {
			@include animation(q3-girl-c-t-m 2.6s steps(50, end) forwards);
		}

		&[data-age="o-t-y"] {
			@include animation(q3-girl-o-t-y 2.6s steps(49, end) forwards);
		}

		&[data-age="m-t-y"] {
			@include animation(q3-girl-m-t-y 1.3s steps(24, end) forwards);
		}

		&[data-age="c-t-y"] {
			@include animation(q3-girl-c-t-y 3.9s steps(74, end) forwards);
		}

		&[data-age="y-t-c"] {
			@include animation(q3-girl-y-t-c 3.9s steps(74, end) forwards);
		}

		&[data-age="m-t-c"] {
			@include animation(q3-girl-m-t-c 2.6s steps(50, end) forwards);
		}

		&[data-age="o-t-c"] {
			@include animation(q3-girl-o-t-c 1.3s steps(25, end) forwards);
		}
	}

	.chosen-boy .image-wrap {
		margin-left: -76px;
		background: url(../img/ani-q3-boy.png) 0 0 no-repeat;
		width: 153px;
		height: 537px;
		bottom: 215px;

		&[data-age="y-t-o"] {
			@include animation(q3-boy-y-t-o 2.8s steps(50, end) forwards);
		}

		&[data-age="m-t-o"] {
			@include animation(q3-boy-m-t-o 1.4s steps(25, end) forwards);
		}

		&[data-age="c-t-o"] {
			@include animation(q3-boy-c-t-o 1.4s steps(25, end) forwards);
		}

		&[data-age="y-t-m"] {
			@include animation(q3-boy-y-t-m 1.4s steps(25, end) forwards);
		}

		&[data-age="o-t-m"] {
			@include animation(q3-boy-o-t-m 1.4s steps(25, end) forwards);
		}

		&[data-age="c-t-m"] {
			@include animation(q3-boy-c-t-m 2.8s steps(50, end) forwards);
		}

		&[data-age="o-t-y"] {
			@include animation(q3-boy-o-t-y 2.8s steps(50, end) forwards);
		}

		&[data-age="m-t-y"] {
			@include animation(q3-boy-m-t-y 1.4s steps(25, end) forwards);
		}

		&[data-age="c-t-y"] {
			@include animation(q3-boy-c-t-y 4.2s steps(75, end) forwards);
		}

		&[data-age="y-t-c"] {
			@include animation(q3-boy-y-t-c 4.2s steps(75, end) forwards);
		}

		&[data-age="m-t-c"] {
			@include animation(q3-boy-m-t-c 2.8s steps(50, end) forwards);
		}

		&[data-age="o-t-c"] {
			@include animation(q3-boy-o-t-c 1.4s steps(25, end) forwards);
		}
	}
}

.quest-4 {
	.cut-4 {
		display: block;
		height: 100%;
	}

	.quest-title {
		background-position: -111px 0;
		width: 35px;
		height: 0;
		top: 47px;
		@include animation(q4-title 0.9s linear forwards);
	}

	.kids-selector {
		width: 100%;
		position: absolute;
		bottom: 164px;
		left: 0;
		z-index: 2;
		font-size: 0;
		text-align: center;

		.list {
			padding: 0 5px;
			display: inline-block;
			width: 56px;
			position: relative;

			.tag {
				margin-left: -9px;
				background: url(../img/bg-slider.png) 0 -52px no-repeat;
				display: block;
				width: 18px;
				height: 22px;
				position: absolute;
				top: -22px;
				left: 50%;

				&.tag-1 {
					@include animation(q4-tag-1 1s steps(18, end) forwards);
				}

				&.tag-2 {
					@include animation(q4-tag-2 1s steps(18, end) forwards);
				}

				&.tag-3 {
					@include animation(q4-tag-3 1s steps(18, end) forwards);
				}
			}

			.desc {
				margin-top: 6px;
				background: url(../img/bg-exams.png) no-repeat;
				display: block;
				width: 100%;
				height: 33px;
			}

			.btn-check:before {
				margin: 0 auto;
			}

			@for $i from 1 through 8 {
				&:nth-child(#{$i}) .desc {
					background-position: -146px (-33px * ($i - 1));
				}
			}
		}
	}

	.rangeslider {
		background: #ebd3d3;
		width: 2px;
		position: relative;
		box-shadow: none;
	}

	.rangeslider--vertical {
		margin: 0 auto;
		min-height: 25px;
	}

	.rangeslider__fill {
		display: none;
	}

	.rangeslider__handle {
		background: url(../img/bg-slider.png) -32px -13px no-repeat;
		display: inline-block;
		width: 9px;
		height: 9px;
		position: absolute;
		left: -3px;
		border: 0;
		box-shadow: none;
		cursor: pointer;

		&:after {
			display: none;
		}
	}

	.kids-pool {
		margin: 0 auto;
		width: 560px;
		height: 464px;
		position: relative;

		ul {
			width: 100%;
			height: 100%;
			position: absolute;
			z-index: 0;
		}

		.doll {
			display: none;
			position: absolute;
			bottom: 0;
			z-index: 5;

			@for $i from 2 through 5 {
				&:nth-child(#{$i}) {
					z-index: (5 - $i + 1);
					@include animation-delay((0.3s * ($i - 1)) !important);
				}
			}

			&.is-show {
				display: block;
			}
		}

		.institute .doll {
			background: url(../img/ani-q4-institute.png) 0 0 no-repeat;
			width: 183px;
			height: 743px;
			left: 50%;
			@include animation(q4-institute 0.7s steps(14, end) forwards);

			&:first-child {
				margin-left: -73px;
			}

			&:nth-child(2) {
				margin-left: -22px;
				z-index: 5;
			}

			&:nth-child(3) {
				margin-left: -124px;
			}

			&:nth-child(4) {
				margin-left: 29px;
				z-index: 5;
			}

			&:nth-child(5) {
				margin-left: -175px;
			}

			&.ani-reverse {
				background-position: -2745px 0;
				@include animation(q4-institute-reverse 0.7s steps(12, end) forwards);
			}
		}

		.collage .doll {
			background: url(../img/ani-q4-collage.png) 0 0 no-repeat;
			width: 129px;
			height: 711px;
			bottom: -9px;
			left: 50%;
			@include animation(q4-collage 1.5s steps(27, end) forwards);

			&:first-child {
				margin-left: 60px;
			}

			&:nth-child(2) {
				margin-left: 110px;
			}

			&:nth-child(3) {
				margin-left: 10px;
				z-index: 5;
			}

			&:nth-child(4) {
				margin-left: 160px;
			}

			&:nth-child(5) {
				margin-left: -40px;
				z-index: 5;
			}

			&.ani-reverse {
				background-position: -3612px 0;
				@include animation(q4-collage-reverse 0.7s steps(12, end) forwards);
			}
		}

		.seniorHigh .doll {
			background: url(../img/ani-q4-seniorHigh.png) 0 0 no-repeat;
			width: 202px;
			height: 707px;
			left: 50%;
			@include animation(q4-seniorHigh 1s steps(18, end) forwards);

			&:first-child {
				margin-left: -175px;
			}

			&:nth-child(2) {
				margin-left: -115px;
				z-index: 5;
			}

			&:nth-child(3) {
				margin-left: -235px;
			}

			&:nth-child(4) {
				margin-left: -55px;
				z-index: 5;
			}

			&:nth-child(5) {
				margin-left: -295px;
			}

			&.ani-reverse {
				background-position: -3838px 0;
				@include animation(q4-seniorHigh-reverse 0.6s steps(11, end) forwards);
			}
		}

		.juniorHigh .doll {
			background: url(../img/ani-q4-juniorHigh.png) 0 0 no-repeat;
			width: 169px;
			height: 723px;
			bottom: -16px;
			left: 50%;
			@include animation(q4-juniorHigh 0.8s steps(14, end) forwards);

			&:first-child {
				margin-left: -26px;
			}

			&:nth-child(2) {
				margin-left: -74px;
				z-index: 5;
			}

			&:nth-child(3) {
				margin-left: 22px;
			}

			&:nth-child(4) {
				margin-left: 70px;
			}

			&:nth-child(5) {
				margin-left: 118px;
			}

			&.ani-reverse {
				background-position: -2535px 0;
				@include animation(q4-juniorHigh-reverse 0.7s steps(13, end) forwards);
			}
		}

		.elementary .doll {
			background: url(../img/ani-q4-elementary.png) 0 0 no-repeat;
			width: 132px;
			height: 662px;
			left: 50%;
			@include animation(q4-elementary 1.1s steps(19, end) forwards);

			&:first-child {
				margin-left: -116px;
			}

			&:nth-child(2) {
				margin-left: -162px;
				z-index: 5;
			}

			&:nth-child(3) {
				margin-left: -72px;
			}

			&:nth-child(4) {
				margin-left: -208px;
				z-index: 5;
			}

			&:nth-child(5) {
				margin-left: -254px;
				z-index: 5;
			}

			&.ani-reverse {
				background-position: -2640px 0;
				@include animation(q4-elementary-reverse 0.7s steps(12, end) forwards);
			}
		}

		.kindergarten .doll {
			background: url(../img/ani-q4-kindergarten.png) 0 0 no-repeat;
			width: 91px;
			height: 613px;
			left: 50%;
			@include animation(q4-kindergarten 2.4s steps(44, end) forwards);

			&:first-child {
				margin-left: -18px;
			}

			&:nth-child(2) {
				margin-left: -62px;
			}

			&:nth-child(3) {
				margin-left: 28px;
			}

			&:nth-child(4) {
				margin-left: -106px;
			}

			&:nth-child(5) {
				margin-left: 74px;
			}

			&.ani-reverse {
				background-position: -4095px 0;
				@include animation(q4-kindergarten-reverse 0.7s steps(12, end) forwards);
			}
		}

		.baby .doll {
			background: url(../img/ani-q4-baby.png) 0 0 no-repeat;
			width: 93px;
			height: 572px;
			left: 50%;
			@include animation(q4-baby 2.3s steps(41, end) forwards);

			&:first-child {
				margin-left: -66px;
			}

			&:nth-child(2) {
				margin-left: -110px;
			}

			&:nth-child(3) {
				margin-left: -20px;
			}

			&:nth-child(4) {
				margin-left: -154px;
			}

			&:nth-child(5) {
				margin-left: 26px;
			}

			&.ani-reverse {
				background-position: -3906px 0;
				@include animation(q4-baby-reverse 0.7s steps(13, end) forwards);
			}
		}

		.dog .doll {
			margin-left: -36px;
			background: url(../img/ani-q4-dog.png) 0 0 no-repeat;
			width: 98px;
			height: 105px;
			position: absolute;
			bottom: 10px;
			left: 50%;
			@include animation(q4-dog 1.1s steps(19, end) forwards);

			&.ani-reverse {
				@include animation(q4-dog-reverse 1.1s steps(19, end) forwards);
			}
		}
	}
}

.quest-5 {
	.cut-5 {
		display: block;
		height: 100%;
	}

	.quest-title {
		margin-left: -35px;
		background: none;
		width: 69px;
		height: 190px;
		top: 47px;

		&:before, &:after {
			content: '';
			background: url(../img/bg-exams.png) -236px 0 no-repeat;
			display: block;
			width: 35px;
			height: 0;
			position: absolute;
			top: 0;
			right: 0;
			z-index: 0;
			@include animation(q5-title-1 1.2s steps(22, end) forwards);
		}

		&:after {
			background-position: -202px 0;
			width: 34px;
			left: 0;
			@include animation(q5-title-2 1s 1.2s steps(18, end) forwards);
		}
	}

	.choice-list {
		margin-left: -300px;
		width: 600px;
		height: auto;
		position: absolute;
		bottom: 170px;
		left: 50%;
		text-align: center;

		.list {
			width: 120px;
	
			.btn-check {
				margin: 0;
				position: relative;
				top: auto;
				bottom: auto;
				left: auto;
				right: auto;

				em {
					background: url(../img/bg-exams.png) no-repeat;
					display: inline-block;
				}

				&[data-meta="young"] em {
					background-position: 0 -228px;
					width: 82px;
					height: 19px;
				}

				&[data-meta="new-couple"] em {
					background-position: 0 -247px;
					width: 82px;
					height: 19px;
				}

				&[data-meta="pregnant"] em {
					background-position: -201px -190px;
					width: 48px;
					height: 19px;
				}

				&[data-meta="near-retired"] em {
					background-position: -201px -209px;
					width: 66px;
					height: 19px;
				}

				&[data-meta="retired"] em {
					background-position: -201px -228px;
					width: 48px;
					height: 19px;
				}
			}
		}

		&.chosen-girl ~ .image-wrap {
			margin-left: -75px;
			background: image-url('girl.png') -151px 0 no-repeat;
			width: 151px;
			height: 242px;
			top: 250px;
			left: 50%;
			@include animation(wink-girl 5s steps(1, start) infinite);

			&.young {
				margin-left: -76px;
				background: url(../img/ani-q5-girl-young.png) 0 0 no-repeat;
				width: 154px;
				height: 513px;
				top: -28px;
				@include animation(q5-girl-young 2.7s steps(49, start) forwards);

				&.ani-reverse {
					@include animation(q5-girl-young-reverse 2.7s steps(49, start) forwards);
				}
			}

			&.new-couple {
				margin-left: -76px;
				background: url(../img/ani-q5-girl-new-couple.png) 0 0 no-repeat;
				width: 151px;
				height: 540px;
				top: -55px;
				@include animation(q5-girl-new-couple 3s steps(54, start) forwards);

				&.ani-reverse {
					@include animation(q5-girl-new-couple-reverse 3s steps(54, start) forwards);
				}
			}

			&.pregnant {
				margin-left: -76px;
				background: url(../img/ani-q5-girl-pregnant.png) 0 0 no-repeat;
				width: 151px;
				height: 235px;
				top: 250px;
				@include animation(q5-girl-pregnant 2.4s steps(44, start) forwards);

				&.ani-reverse {
					@include animation(q5-girl-pregnant-reverse 2.4s steps(44, start) forwards);
				}
			}

			&.near-retired {
				margin-left: -78px;
				background: url(../img/ani-q5-girl-near-retired.png) 0 0 no-repeat;
				width: 228px;
				height: 276px;
				top: 208px;
				@include animation(q5-girl-near-retired 2.4s steps(44, start) forwards);

				&.ani-reverse {
					@include animation(q5-girl-near-retired-reverse 2.4s steps(44, start) forwards);
				}
			}

			&.retired {
				margin-left: -76px;
				background: url(../img/ani-q5-girl-retired.png) 0 0 no-repeat;
				width: 179px;
				height: 784px;
				top: -298px;
				@include animation(q5-girl-retired 2.4s steps(44, start) forwards);

				&.ani-reverse {
					@include animation(q5-girl-retired-reverse 2.4s steps(44, start) forwards);
				}
			}
		}

		&.chosen-boy ~ .image-wrap {
			margin-left: -74px;
			background: image-url('boy.png') -148px 0 no-repeat;
			width: 148px;
			height: 242px;
			top: 245px;
			left: 50%;
			@include animation(wink-boy 5s 0.5s steps(1, start) infinite);

			&.young {
				margin-left: -73px;
				background: url(../img/ani-q5-boy-young.png) 0 0 no-repeat;
				width: 147px;
				height: 524px;
				top: -40px;
				@include animation(q5-boy-young 1.9s steps(34, start) forwards);

				&.ani-reverse {
					@include animation(q5-boy-young-reverse 1.9s steps(34, start) forwards);
				}
			}

			&.new-couple {
				margin-left: -73px;
				background: url(../img/ani-q5-boy-new-couple.png) 0 0 no-repeat;
				width: 147px;
				height: 239px;
				top: 245px;
				@include animation(q5-boy-new-couple 1.9s steps(34, start) forwards);

				&.ani-reverse {
					@include animation(q5-boy-new-couple-reverse 1.9s steps(34, start) forwards);
				}
			}

			&.pregnant {
				margin-left: -102px;
				background: url(../img/ani-q5-boy-pregnant.png) 0 0 no-repeat;
				width: 176px;
				height: 578px;
				top: -94px;
				@include animation(q5-boy-pregnant 2.8s steps(51, start) forwards);

				&.ani-reverse {
					@include animation(q5-boy-pregnant-reverse 2.8s steps(51, start) forwards);
				}
			}

			&.near-retired {
				margin-left: -79px;
				background: url(../img/ani-q5-boy-near-retired.png) 0 0 no-repeat;
				width: 218px;
				height: 312px;
				top: 175px;
				@include animation(q5-boy-near-retired 1.9s steps(34, start) forwards);

				&.ani-reverse {
					@include animation(q5-boy-near-retired-reverse 1.9s steps(34, start) forwards);
				}
			}

			&.retired {
				margin-left: -73px;
				background: url(../img/ani-q5-boy-retired.png) 0 0 no-repeat;
				width: 147px;
				height: 239px;
				top: 245px;
				@include animation(q5-boy-retired 2.2s steps(39, start) forwards);

				&.ani-reverse {
					@include animation(q5-boy-retired-reverse 2.2s steps(39, start) forwards);
				}
			}
		}
	}

	.image-wrap {
		position: absolute;
	}
}

.quest-6 {
	.cut-6 {
		display: block;
		height: 100%;
	}
}

.step-list {
	width: 100%;
	position: absolute;
	bottom: 90px;
	left: 0;
	font-size: 0;
	text-align: center;

	$types : 0;
	$total : 4;
	@while $types <= $total {
		@for $i from 1 through ($total + 1) {
			.list:nth-child(#{$i}) {
				background-position: (-59px * ($i - 1)) -55px;
			}
		}

		&.complete-phase-#{$types} {
			.bg-line {
				width : ((506px / $total) * ($total - $types));
			}

			.step-line {
				width : ((506px / $total) * $types);
			}

			@for $i from 1 through $types {
				.list:nth-child(#{$i}) {
					background-position: (-59px * $i) -113px;

					em {
						color: #fff;
					}
				}
			}

			.list:nth-child(#{$types + 1}) {
				background-position: (-59px * $types) -171px;

				em {
					color: #fff;
				}
			}
		}

		$types : $types + 1;
	}

	.bg-line {
		margin: -4px -252px 0 0;
		background: image-url('shared.png') right -40px no-repeat;
		width: 504px;
		height: 8px;
		position: absolute;
		top: 50%;
		right: 50%;
		@include transition(ease-in width 0.3s);
	}

	.step-line {
		margin: -3px 0 0 -252px;
		background: image-url('shared.png') 0 -48px no-repeat;
		height: 7px;
		position: absolute;
		top: 50%;
		left: 50%;
		@include transition(ease-in width 0.3s);
	}

	.list {
		margin: 0 30px;
		background: image-url('shared.png') 0 -55px no-repeat;
		display: inline-block;
		width: 59px;
		height: 58px;
		position: relative;
		z-index: 1;
		font-size: 14px;
		line-height: 16px;
		@include transition(ease-in all 0.3s);

		em {
			margin: -16px 0 0 -15px;
			display: block;
			width: 30px;
			height: 100%;
			position: absolute;
			top: 50%;
			left: 50%;
			color: #E95854;
			font-weight: bold;
			letter-spacing: 1px;
			text-align: center;
		}

		.svg-icon {
			width: 56px;
			height: 56px;

			use {
				fill: #fff;
				stroke: #E95854;
			}
		}
	}
}

.btn-topic {
	background: image-url('shared.png') no-repeat;
	display: block;
	width: 92px;
	height: 103px;
	position: absolute !important;
	top: 460px;
	z-index: 5;
	@include transition(ease-in-out all 0.3s);

	&.btn-prev {
		background-position: -295px -55px;
		left: 85px;
	}

	&.btn-next {
		background-position: -387px -55px;
		right: 85px;
	}
}

.btn-shake {
	@include animation(btn-shake 0.4s linear forwards !important);
}

@include respond-to(Desktops) {}

@include respond-to(Desktops-Tablets) {}

@include respond-to(Tablets) {}

@include respond-to(Tablets-Mobiles) {}

@include browsers('IE') {
	.quest-1 {
		.chosen-boy .girl {
			background: none !important;

			&:before {
				content: '';
				background: url(../img/girl-door.png) 0 0 no-repeat;
				display: block;
				width: 100%;
				height: 100%;
				@include animation(flipout-door 1.5s steps(29, start) forwards);
			}
		}

		.chosen-girl .boy {
			background: none !important;

			&:before {
				content: '';
				background: url(../img/boy-door.png) 0 0 no-repeat;
				display: block;
				width: 100%;
				height: 100%;
				@include animation(flipout-door 1.5s steps(29, start) forwards);
			}
		}
	}
}